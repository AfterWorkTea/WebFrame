# WebFrame /Include

The folder contains PHP classes for rendering pages:

- Website.php - the framework engine
- WebDB.php - optional example of a database access class
- *Page.php - classes rendering content of pages

## Website.php

It is the main and the only engine class. It processes requests according to provided configuration files, first renders common elements (like header, menu, footer, etc.) and later selects and calls specific Page class for to request XMLT and XML string that serve internal processor to generate content's HTML.


## *Page.php class

The classes are responsible for rendering content the corresponding page. They are being called by Website and must must provide:

- public, argument-less constructor
- public function getXSLT($xslt)
- public function getXML()

### function getXSLT($xslt)

Takes one argument, the string of XLST transformation.

It should return a valid XSLT transformation string that generate a content.

When needed It allows the class to modify the values of xsl:variable, e.g. group or sorting selections that might impact rendering of specific HTML elements.

E.g.:

- `$xslt = str_replace("_gid_", "".$this->gid, $xslt);`

- `$xslt = str_replace("_sort_", $this->sort, $xslt);`


Otherwise it can just return the $xslt as it is.

### function getXML()

The function takes zero arguments and should return an XML string, that processed by the above XLST will generate HTML.

The source of the XML can be both static (inline or external) as well as dynamic, e.g. from a database query.

Please note ZooPages class that illustrates generations of table with automatic filtering, sorting and paging.

## WebDB.php

This is an example class provided as illustration to interact with MySQL database by calling stored procedures/functions.

Please note the response from classes, that is an array generated by getResponce($return, $status). Regardless of result the array has the same form:

`["R" => $return, "S" => $status]`

Where:

- `['S']` represents status: 'OK' for success or any other not null string for an error
- `['R']` represents XML value for a success or message for an error


Please note the function `getZoo($sort, $gid, $from, $pagesize)`.

It takes arguments specific for database side sorting, filtering by an id and paging (from and page size)
